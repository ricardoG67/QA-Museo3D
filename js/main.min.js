const _0xd87377=_0x1908;!function(x,e){const _=_0x1908,t=_0x58b7();for(;;)try{if(737946===-parseInt(_(468))/1*(parseInt(_(523))/2)+parseInt(_(527))/3*(parseInt(_(426))/4)+parseInt(_(474))/5*(parseInt(_(467))/6)+parseInt(_(417))/7*(-parseInt(_(444))/8)+-parseInt(_(458))/9*(-parseInt(_(536))/10)+parseInt(_(376))/11+-parseInt(_(378))/12*(parseInt(_(526))/13))break;t.push(t.shift())}catch(x){t.push(t.shift())}}();import*as _0x4c49b4 from"three";import{PointerLockControls}from"three/addons/controls/PointerLockControls.js";import{GLTFLoader}from"three/addons/loaders/GLTFLoader.js";const _0x1797b0=_0xd87377(406),_0x4c948f=new URLSearchParams(window[_0xd87377(516)][_0xd87377(391)]),_0x2752f8=_0x4c948f[_0xd87377(375)]("id");if(!_0x2752f8)throw document[_0xd87377(402)].innerHTML=_0xd87377(529),new Error("Museo sin ID en URL");const _0x36167b=_0x1797b0+"/"+_0x2752f8;let _0x1e2d93=[],_0x5b541f=_0xd87377(394);const _0x5b3649=document[_0xd87377(454)](_0xd87377(392)),_0x19cb50=document[_0xd87377(454)]("loader-bar-fill"),_0x43e02d=document.getElementById("loader-percent"),_0x4fc9e2=new(_0x4c49b4[_0xd87377(548)]);_0x4fc9e2.onStart=function(x,e,_){const t=_0xd87377;_0x5b3649[t(557)].opacity="1",_0x5b3649.style[t(482)]=t(377),_0x19cb50[t(557)].width="0%",_0x43e02d[t(366)]="0%"},_0x4fc9e2[_0xd87377(535)]=function(x,e,_){const t=_0xd87377,d=_?e/_:0,n=Math[t(430)](100*d);_0x19cb50.style[t(389)]=n+"%",_0x43e02d[t(366)]=n+"%"},_0x4fc9e2[_0xd87377(509)]=function(){const x=_0xd87377;_0x19cb50[x(557)][x(389)]=x(518),_0x43e02d[x(366)]=x(518),_0x5b3649[x(557)].opacity="0",setTimeout((()=>{const e=x;_0x5b3649[e(557)][e(482)]=e(434)}),650)};const _0x133bad=new(_0x4c49b4[_0xd87377(373)]);_0x133bad.background=new(_0x4c49b4[_0xd87377(385)])(329750),_0x133bad[_0xd87377(464)]=new _0x4c49b4.Fog(329750,20,80);const _0x17fe6e=new _0x4c49b4.PerspectiveCamera(75,window[_0xd87377(397)]/window[_0xd87377(475)],.1,1e3);_0x17fe6e[_0xd87377(448)][_0xd87377(441)](0,1.7,0),_0x17fe6e[_0xd87377(403)][_0xd87377(420)]=_0xd87377(505);let _0x4e5911=0,_0x590345=0;const _0x4be2bd=new(_0x4c49b4[_0xd87377(521)]);_0x17fe6e[_0xd87377(469)](_0x4be2bd);const _0x3778d0=new _0x4c49b4.Audio(_0x4be2bd);let _0x42db59=!1,_0x3e4832=!1;const _0x260dae=new(_0x4c49b4[_0xd87377(410)])(_0x4fc9e2);_0x260dae[_0xd87377(563)](_0xd87377(453),(function(x){const e=_0xd87377;_0x3778d0[e(398)](x),_0x3778d0[e(367)](!0),_0x3778d0[e(538)](.35),_0x42db59=!0,_0x3e4832&&!_0x3778d0.isPlaying&&_0x3778d0[e(528)]()}),void 0,(function(x){const e=_0xd87377;console.log(e(379),x)})),document[_0xd87377(542)](_0xd87377(445),(()=>{!_0x3778d0.isPlaying&&(_0x42db59?_0x3778d0.play():_0x3e4832=!0)}));const _0x2552e7=new(_0x4c49b4[_0xd87377(413)])({antialias:!0});_0x2552e7[_0xd87377(438)](Math.min(window[_0xd87377(514)],1)),_0x2552e7[_0xd87377(429)](window[_0xd87377(397)],window[_0xd87377(475)]),_0x2552e7[_0xd87377(461)][_0xd87377(564)]=!1,document.body[_0xd87377(499)](_0x2552e7[_0xd87377(491)]);const _0x459dc5=new(_0x4c49b4[_0xd87377(522)])(16774633,1);_0x133bad[_0xd87377(469)](_0x459dc5);const _0x4ad720=new _0x4c49b4.HemisphereLight(16774633,1776418,.7);_0x133bad[_0xd87377(469)](_0x4ad720);const _0x5750b0=new _0x4c49b4.DirectionalLight(16773341,.5);function _0x58b7(){const x=["clientX","ArrowDown","ArrowRight","right","array","style","block","min","push","setAttribute","cos","load","enabled","holes","clientY","SpotLight","pointermove","error","BackSide","Este museo no est√° disponible üò¢","textContent","setLoop","userAgent","castShadow","keyup","wrapS","https://ik.imagekit.io/y6ivkwjoq/texturas/paredes/MARBLE-normal.jpg?updatedAt=1764565310886","Scene","needsUpdate","get","6264225ymuOEX","flex","72MObVdj","Audio no disponible:","BufferAttribute","Imagen no cargada a√∫n","DoubleSide","RepeatWrapping","string","Color","test","then","captionText","width","getWorldDirection","search","loader-overlay","isArray","default","Group","Raycaster","innerWidth","setBuffer","colorSpace","forEach","‚ùå Error cargando marco GLB:","body","rotation","outer","Vector3","https://ik.imagekit.io/y6ivkwjoq","distanceTo","remove","https://ik.imagekit.io/y6ivkwjoq/texturas/paredes/MARBLE-diffuse.jpg?updatedAt=1764565313321","AudioLoader","log","isPlaying","WebGLRenderer","KeyS","getY","code","6388067HTCsDV","img","minZ","order","getSize","KeyA","includes","clone","attributes","8tEYrGD","computeBoundingBox","json","setSize","round","TextureLoader","MeshStandardMaterial","pointercancel","none","count","map","hypot","setPixelRatio","https://ik.imagekit.io/y6ivkwjoq/texturas/piso/SLATE-normal.jpg?updatedAt=1764565346610","lineTo","set","copy","updateMatrixWorld","8LPAWKw","click","sub","getX","position","joystick-inner","KeyW","wrapT","querySelector","https://ik.imagekit.io/y6ivkwjoq/music.mp3","getElementById","maxX","top","updateProjectionMatrix","1359RPwxoO","receiveShadow","Path","shadowMap","https://ik.imagekit.io/y6ivkwjoq/texturas/techo/BIANCO%20LASA%20VENATO%20GOLD%20ZEROCARE%20-%20POLISHED%20-%20MARBLE-normal.jpg","pointerup","fog","SphereGeometry","getDelta","1831314Ijwtye","3yusiNJ","add","minX","25px","Mesh","resize","5XBjUAd","innerHeight","image","scale","/config.json","userData","ExtrudeGeometry","random","display","pointerId","color","PointsMaterial","Error cargando ","modelos/marco.glb","quaternion","BufferGeometry","bottom","domElement","object","moveTo","No se pudo cargar ","Usa el joystick para moverte ¬∑ Toca y arrastra la pantalla para mirar alrededor","joystick","photos","length","appendChild","aspect","warn","material","atan2","setFromCamera","YXZ","PlaneGeometry","isLocked","left","onLoad","MathUtils","parent","moveRight","preventDefault","devicePixelRatio","clamp","location","https://ik.imagekit.io/y6ivkwjoq/texturas/techo/BIANCO%20LASA%20VENATO%20GOLD%20ZEROCARE%20-%20POLISHED%20-%20MARBLE-diffuse.jpg","100%","addScaledVector","MeshBasicMaterial","AudioListener","AmbientLight","2182okyPIL","https://ik.imagekit.io/y6ivkwjoq/texturas/paredes/MARBLE-ao.jpg?updatedAt=1764565310599","height","1904929QpXNfs","1889949JgXBKX","play",'\n        <div style="\n            background:#050816;\n            color:#fff;\n            font-family: sans-serif;\n            height:100vh;\n            display:flex;\n            flex-direction:column;\n            justify-content:center;\n            align-items:center;\n            text-align:center;\n        ">\n            <h1>404 - Museo no encontrado</h1>\n            <p>Este museo no existe o la URL es inv√°lida.</p>\n        </div>\n    ',"getCenter","ArrowUp","gazePopup","ArrowLeft","rotate-overlay","onProgress","26380AWDPoN","pointerdown","setVolume","getBoundingClientRect","https://ik.imagekit.io/y6ivkwjoq/texturas/techo/BIANCO%20LASA%20VENATO%20GOLD%20ZEROCARE%20-%20POLISHED%20-%20MARBLE-ao.jpg","boundingBox","addEventListener","layout","Box3","Points","setScalar","uv2","LoadingManager","sin","repeat","applyQuaternion"];return(_0x58b7=function(){return x})()}_0x5750b0[_0xd87377(448)].set(5,8,5),_0x5750b0[_0xd87377(369)]=!1,_0x133bad.add(_0x5750b0);const _0x4b5125=18,_0x464110=36*.65,_0x4c210=6,_0x38845a=1.3*_0x4c210,_0x46ef7f=new(_0x4c49b4[_0xd87377(431)])(_0x4fc9e2),_0x4ae06f=_0x46ef7f.load(_0xd87377(409)),_0x2b4d5a=_0x46ef7f[_0xd87377(563)](_0xd87377(524)),_0x4f0c9e=_0x46ef7f[_0xd87377(563)](_0xd87377(372));[_0x4ae06f,_0x2b4d5a,_0x4f0c9e][_0xd87377(400)]((x=>{const e=_0xd87377;x[e(371)]=x[e(451)]=_0x4c49b4[e(383)],x[e(550)][e(441)](.8,.6)}));const _0x5ac267=_0x46ef7f.load("https://ik.imagekit.io/y6ivkwjoq/texturas/piso/SLATE-diffuse.jpg?updatedAt=1764565348135"),_0x3e4d73=_0x46ef7f[_0xd87377(563)]("https://ik.imagekit.io/y6ivkwjoq/texturas/piso/SLATE-ao.jpg?updatedAt=1764565345359"),_0xf0b57c=_0x46ef7f[_0xd87377(563)](_0xd87377(439));[_0x5ac267,_0x3e4d73,_0xf0b57c].forEach((x=>{const e=_0xd87377;x[e(371)]=x[e(451)]=_0x4c49b4[e(383)],x.repeat[e(441)](1,1.5)}));const _0x9e4ab3=_0x46ef7f[_0xd87377(563)](_0xd87377(517)),_0x51ec14=_0x46ef7f[_0xd87377(563)](_0xd87377(540)),_0x1431f3=_0x46ef7f[_0xd87377(563)](_0xd87377(462));[_0x9e4ab3,_0x51ec14,_0x1431f3][_0xd87377(400)]((x=>{const e=_0xd87377;x[e(371)]=x[e(451)]=_0x4c49b4.RepeatWrapping,x.repeat[e(441)](1,1)}));const _0x231ae3=[],_0x3600dd=new _0x4c49b4.MeshStandardMaterial({map:_0x4ae06f,aoMap:_0x2b4d5a,normalMap:_0x4f0c9e,roughness:.4,metalness:0,side:_0x4c49b4[_0xd87377(382)]}),_0x5baf6e=new _0x4c49b4.MeshStandardMaterial({map:_0x5ac267,normalMap:_0xf0b57c,aoMap:_0x3e4d73,roughness:.65,metalness:.05}),_0x148565=new(_0x4c49b4[_0xd87377(432)])({map:_0x9e4ab3,normalMap:_0x1431f3,aoMap:_0x51ec14,roughness:.35,metalness:.1}),_0x421dd0=new _0x4c49b4.MeshStandardMaterial({color:5592405,roughness:.6}),_0x46844b=new _0x4c49b4.MeshStandardMaterial({color:14933717,roughness:.8}),_0x436e8a=new GLTFLoader(_0x4fc9e2);let _0x123716=null;_0x436e8a[_0xd87377(563)](_0xd87377(487),(x=>{const e=_0xd87377;_0x123716=x.scene;const _=(new(_0x4c49b4[e(544)])).setFromObject(_0x123716),t=new(_0x4c49b4[e(405)]);_[e(421)](t);const d=1/Math.max(t.x,t.y);_0x123716[e(477)][e(546)](d);const n=new _0x4c49b4.Vector3;_[e(530)](n),_0x123716[e(448)][e(446)](n);for(const x of _0x231ae3){const _=x[e(479)].outer;_&&x[e(408)](_);const t=_0x123716[e(424)](!0);t[e(403)].y=Math.PI,x[e(469)](t),x[e(479)][e(404)]=t,x[e(479)][e(418)][e(502)].map?.image&&_0x22dd4c(x,x[e(479)][e(418)].material[e(436)],x[e(479)].captionText||"")}console[e(411)]("‚úÖ Marcos GLB inyectados correctamente")}),void 0,(x=>{const e=_0xd87377;console.error(e(401),x)}));const _0x190e4c=new(_0x4c49b4[_0xd87377(506)])(_0x4b5125,_0x464110,64,64);_0x190e4c[_0xd87377(561)](_0xd87377(547),new(_0x4c49b4[_0xd87377(380)])(_0x190e4c[_0xd87377(425)].uv[_0xd87377(556)],2));const _0x43d741=new(_0x4c49b4[_0xd87377(472)])(_0x190e4c,_0x5baf6e);_0x43d741[_0xd87377(403)].x=-Math.PI/2,_0x43d741[_0xd87377(459)]=!0,_0x133bad[_0xd87377(469)](_0x43d741);const _0x418ad8=.35,_0x3ee61c=4,_0x27ee5f=new _0x4c49b4.Shape;_0x27ee5f[_0xd87377(493)](-_0x4b5125/2,-_0x464110/2),_0x27ee5f[_0xd87377(440)](_0x4b5125/2,-_0x464110/2),_0x27ee5f[_0xd87377(440)](_0x4b5125/2,_0x464110/2),_0x27ee5f[_0xd87377(440)](-_0x4b5125/2,_0x464110/2),_0x27ee5f[_0xd87377(440)](-_0x4b5125/2,-_0x464110/2);const _0xc64ec9=new(_0x4c49b4[_0xd87377(460)]);_0xc64ec9.absellipse(0,0,4,4,0,2*Math.PI),_0x27ee5f[_0xd87377(565)].push(_0xc64ec9);const _0x38bd20=new(_0x4c49b4[_0xd87377(480)])(_0x27ee5f,{depth:.35,bevelEnabled:!1});_0x38bd20[_0xd87377(427)]();const _0xb89334=_0x38bd20[_0xd87377(541)],_0x542f13=new(_0x4c49b4[_0xd87377(405)]);_0xb89334[_0xd87377(421)](_0x542f13);const _0xaa42b1=_0x38bd20[_0xd87377(425)][_0xd87377(448)],_0xdc68dd=_0x38bd20[_0xd87377(425)].uv,_0x105f89=.15,_0xc09b6=.15;for(let x=0;x<_0xdc68dd[_0xd87377(435)];x++){const e=_0xaa42b1[_0xd87377(447)](x),_=_0xaa42b1[_0xd87377(415)](x),t=(e-_0xb89334[_0xd87377(559)].x)/_0x542f13.x,d=(_-_0xb89334.min.y)/_0x542f13.y;_0xdc68dd.setXY(x,.15*t,.15*d)}_0xdc68dd[_0xd87377(374)]=!0,_0x38bd20.setAttribute(_0xd87377(547),new(_0x4c49b4[_0xd87377(380)])(_0x38bd20[_0xd87377(425)].uv[_0xd87377(556)],2));const _0x40276e=new(_0x4c49b4[_0xd87377(472)])(_0x38bd20,_0x148565);_0x40276e[_0xd87377(403)].x=-Math.PI/2,_0x40276e.position.y=_0x38845a,_0x133bad[_0xd87377(469)](_0x40276e);const _0xe40a4=new(_0x4c49b4[_0xd87377(465)])(80,32,32),_0x279570=new _0x4c49b4.MeshBasicMaterial({color:329750,side:_0x4c49b4[_0xd87377(364)]}),_0x5b970e=new(_0x4c49b4[_0xd87377(472)])(_0xe40a4,_0x279570);_0x133bad.add(_0x5b970e);const _0x593335=750,_0x158a0c=new Float32Array(2250);for(let n=0;n<750;n++){const o=60+12*Math[_0xd87377(481)](),a=Math[_0xd87377(481)]()*Math.PI*2,c=Math[_0xd87377(481)]()*Math.PI/2;_0x158a0c[3*n]=o*Math[_0xd87377(562)](a)*Math[_0xd87377(549)](c),_0x158a0c[3*n+1]=o*Math[_0xd87377(562)](c),_0x158a0c[3*n+2]=o*Math[_0xd87377(549)](a)*Math[_0xd87377(549)](c)}const _0x304b73=new(_0x4c49b4[_0xd87377(489)]);_0x304b73[_0xd87377(561)]("position",new(_0x4c49b4[_0xd87377(380)])(_0x158a0c,3));const _0x1a7d87=new(_0x4c49b4[_0xd87377(485)])({color:16777215,size:.4,sizeAttenuation:!0}),_0x3c65c9=new(_0x4c49b4[_0xd87377(545)])(_0x304b73,_0x1a7d87);_0x133bad.add(_0x3c65c9);const _0xb3a62f=new(_0x4c49b4[_0xd87377(465)])(2.4,32,32),_0x497832=new(_0x4c49b4[_0xd87377(520)])({color:16643811}),_0x1363df=new(_0x4c49b4[_0xd87377(472)])(_0xb3a62f,_0x497832);_0x1363df[_0xd87377(448)][_0xd87377(441)](-8,50,-10),_0x133bad[_0xd87377(469)](_0x1363df);const _0x3f7443=new _0x4c49b4.DirectionalLight(16643811,.35);function _0x1ce392(x,e,_,t,d,n=0){const o=_0xd87377,a=new _0x4c49b4.PlaneGeometry(x,e,64,64);a[o(561)]("uv2",new(_0x4c49b4[o(380)])(a[o(425)].uv[o(556)],2));const c=new(_0x4c49b4[o(472)])(a,_0x3600dd);return c[o(448)][o(441)](_,t,d),c[o(403)].y=n,c[o(459)]=!0,_0x133bad[o(469)](c),c}_0x3f7443[_0xd87377(448)].copy(_0x1363df[_0xd87377(448)]),_0x133bad[_0xd87377(469)](_0x3f7443);const _0x252745=.01,_0x5fa6b7=2.5,_0x56ade8=0,_0x1fadb9=.05,_0x1da9b1=.58;function _0x2d8e7c(){const x=_0xd87377,e=new(_0x4c49b4[x(395)]);let _;if(_0x123716)_=_0x123716[x(424)](!0),_.rotation.y=Math.PI,e[x(469)](_);else{const t=new(_0x4c49b4[x(506)])(1,1);_=new(_0x4c49b4[x(472)])(t,_0x421dd0),e[x(469)](_)}const t=new _0x4c49b4.PlaneGeometry(1,1),d=new(_0x4c49b4[x(472)])(t,_0x46844b);d[x(448)].z=_0x252745,e[x(469)](d);const n=new(_0x4c49b4[x(506)])(1,1),o=new(_0x4c49b4[x(432)])({color:1118481,roughness:.7}),a=new(_0x4c49b4[x(472)])(n,o);return a[x(448)].z=2*_0x252745,e[x(469)](a),e[x(479)]={outer:_,mat:d,img:a,caption:null,captionText:""},_0x231ae3[x(560)](e),e}function _0x22dd4c(x,e,_){const t=_0xd87377,{outer:d,mat:n,img:o}=x[t(479)];if(typeof _===t(384)&&(x.userData[t(388)]=_),e[t(399)]=_0x4c49b4.SRGBColorSpace,o[t(502)][t(436)]=e,o.material[t(484)].setHex(16777215),o[t(502)].needsUpdate=!0,!e.image)return void console[t(501)](t(381));const a=e[t(476)][t(389)]/e.image[t(525)],c=_0x4c49b4[t(510)][t(515)](a,.6,1.6);let i,r;c>=1?(r=_0x5fa6b7,i=_0x5fa6b7*c):(i=_0x5fa6b7,r=_0x5fa6b7/c);const s=i+_0x56ade8,b=r+_0x56ade8,f=(s+_0x1fadb9)*_0x1da9b1,l=b+_0x1fadb9;o.scale[t(441)](i,1.02*r,1),n[t(477)].set(s,b,1),d[t(477)][t(441)](f,l,1)}function _0xbdb27c(x){const e=_0xd87377,_=new(_0x4c49b4[e(567)])(16777215,2.2,20,Math.PI/3,.35,1);_[e(369)]=!1;const t=new(_0x4c49b4[e(405)])(0,0,1);t.applyQuaternion(x[e(488)]);const d=x[e(448)][e(424)]();d[e(519)](t,-.02),d.y+=1;const n=new _0x4c49b4.Object3D;n.position[e(442)](d),_0x133bad.add(n),_[e(448)][e(442)](n.position),_[e(448)].addScaledVector(t,1),_[e(448)].y+=2,_.target=n,_0x133bad.add(_)}const _0x916a74=3.3,_0x38f696=7.5,_0x4b5402=3;function _0x49d901(x,e){const _=_0xd87377;[-_0x38f696/2,_0x38f696/2][_(400)]((t=>{const d=_,n=_0x2d8e7c();n[d(448)][d(441)](t,_0x916a74,x),n.rotation.y=e,_0x133bad.add(n),_0xbdb27c(n)}))}function _0x1cfd85(x,e){const _=_0xd87377,t=_0x464110-10,d=t/(_0x4b5402-1);for(let n=0;n<_0x4b5402;n++){const o=-t/2+n*d,a=_0x2d8e7c();a.position.set(x,_0x916a74,o),a[_(403)].y=e,_0x133bad[_(469)](a),_0xbdb27c(a)}}const _0x306f1f=[],_0x21049b=.6;function _0x49a351(x,e,_,t,d=0){const n=_0xd87377,o=new _0x4c49b4.BoxGeometry(x,e,_0x21049b),a=new(_0x4c49b4[n(472)])(o,_0x3600dd);a[n(448)][n(441)](_,e/2,t),a[n(403)].y=d,a.receiveShadow=!0,_0x133bad[n(469)](a);const c=_0x21049b/2;return _0x306f1f[n(560)]({minX:_-x/2,maxX:_+x/2,minZ:t-c,maxZ:t+c}),a}function _0x15e4a(x){const e=_0xd87377,_=new(_0x4c49b4[e(405)])(0,0,1);_[e(551)](x[e(488)]);const t=_0x21049b/2+.03,d=_0x2d8e7c();d.position[e(442)](x[e(448)]),d[e(448)].y=_0x916a74,d[e(448)].addScaledVector(_,t),d[e(488)].copy(x.quaternion),_0x133bad[e(469)](d),_0xbdb27c(d);const n=_0x2d8e7c();n.position[e(442)](x.position),n[e(448)].y=_0x916a74,n[e(448)][e(519)](_,-t),n.quaternion[e(442)](x.quaternion),n.rotateY(Math.PI),_0x133bad[e(469)](n),_0xbdb27c(n)}const _0x3d06cc=7;function _0x3c79c5(){_0x1ce392(_0x4b5125,_0x38845a,0,_0x38845a/2,-_0x464110/2,0),_0x1ce392(_0x4b5125,_0x38845a,0,_0x38845a/2,_0x464110/2,Math.PI),_0x1ce392(_0x464110,_0x38845a,-_0x4b5125/2,_0x38845a/2,0,Math.PI/2),_0x1ce392(_0x464110,_0x38845a,_0x4b5125/2,_0x38845a/2,0,-Math.PI/2),_0x49d901(-_0x464110/2+.05,0),_0x49d901(_0x464110/2-.05,Math.PI),_0x1cfd85(-_0x4b5125/2+.05,Math.PI/2),_0x1cfd85(_0x4b5125/2-.05,-Math.PI/2);_0x15e4a(_0x49a351(_0x3d06cc,_0x4c210,0,-6,0));_0x15e4a(_0x49a351(_0x3d06cc,_0x4c210,0,6,0))}function _0x3e7a75(x){const e=_0xd87377;console.log("üèõÔ∏è Layout activo:",x),e(394),_0x3c79c5()}function _0x1908(x,e){const _=_0x58b7();return(_0x1908=function(x,e){return _[x-=363]})(x,e)}function _0x586bbf(){const x=_0xd87377,e=_0x36167b+x(478);return fetch(e).then((_=>{const t=x;if(!_.ok)throw new Error(t(494)+e);return _[t(428)]()}))[x(387)]((e=>{const _=x;_0x1e2d93=Array[_(393)](e[_(497)])?e[_(497)]:[],_0x5b541f=e[_(543)]||_(394)})).catch((e=>{const _=x;console[_(363)]("Error cargando config del museo:",e),alert(_(365))}))}function _0x38c049(){const x=_0xd87377,e=Math[x(559)](_0x1e2d93[x(498)],_0x231ae3[x(498)]);for(let _=0;_<e;_++){const{image:e,caption:t}=_0x1e2d93[_],d=_0x231ae3[_],n=t||"";d[x(479)][x(388)]=n,_0x46ef7f[x(563)](e,(x=>{_0x22dd4c(d,x,n)}),void 0,(_=>{const t=x;console[t(363)](t(486)+e+":",_)}))}}requestAnimationFrame((()=>{const x=_0xd87377;_0x586bbf()[x(387)]((()=>{_0x3e7a75(_0x5b541f),_0x38c049()}))}));const _0x2d2adf=new PointerLockControls(_0x17fe6e,_0x2552e7[_0xd87377(491)]);document[_0xd87377(542)](_0xd87377(445),(()=>_0x2d2adf.lock()));let _0x484f18=!1,_0x23825b=!1,_0x5ad450=!1,_0x5ee837=!1;document.addEventListener("keydown",(x=>{const e=_0xd87377;x[e(416)]!==e(450)&&"ArrowUp"!==x[e(416)]||(_0x484f18=!0),x.code!==e(414)&&x[e(416)]!==e(553)||(_0x23825b=!0),x.code!==e(422)&&x[e(416)]!==e(533)||(_0x5ad450=!0),"KeyD"!==x[e(416)]&&x[e(416)]!==e(554)||(_0x5ee837=!0)})),document[_0xd87377(542)](_0xd87377(370),(x=>{const e=_0xd87377;x[e(416)]!==e(450)&&x[e(416)]!==e(531)||(_0x484f18=!1),x[e(416)]!==e(414)&&x.code!==e(553)||(_0x23825b=!1),x[e(416)]!==e(422)&&x.code!==e(533)||(_0x5ad450=!1),"KeyD"!==x[e(416)]&&"ArrowRight"!==x[e(416)]||(_0x5ee837=!1)}));const _0x52c927=/Android|iPhone|iPad|iPod/i[_0xd87377(386)](navigator[_0xd87377(368)]),_0x9534a7=document[_0xd87377(454)](_0xd87377(534)),_0x1ddbfd=document[_0xd87377(454)](_0xd87377(496)),_0x40d231=document.getElementById(_0xd87377(449)),_0x22e3d5=document[_0xd87377(452)]("#info .hint");_0x52c927?_0x22e3d5.textContent=_0xd87377(495):_0x22e3d5[_0xd87377(366)]="Haz clic para entrar ¬∑ WASD para moverte ¬∑ Rat√≥n para mirar";let _0x26f33f=!1,_0x10d5bb=0,_0x4beebf=0,_0x259e60=null,_0x52d479=!1,_0xab8477=0,_0x4ee2d=0,_0x37260e=null;if(_0x52c927){function _0x4380c6(){const x=_0xd87377;window[x(475)]>window.innerWidth?(_0x9534a7[x(557)][x(482)]=x(377),_0x1ddbfd.style.display=x(434)):(_0x9534a7.style[x(482)]="none",_0x1ddbfd.style[x(482)]=x(558)),setTimeout(_0x4380c6,150)}window[_0xd87377(542)](_0xd87377(473),_0x4380c6),_0x4380c6(),document[_0xd87377(542)]("pointerdown",(x=>{const e=_0xd87377;if(_0x5b3649&&_0x5b3649.style.display!==e(434))return;const _=_0x1ddbfd[e(539)]();!(x.clientX>=_[e(508)]&&x[e(552)]<=_[e(555)]&&x[e(566)]>=_[e(456)]&&x[e(566)]<=_[e(490)])&&null===_0x259e60&&(_0x26f33f=!0,_0x259e60=x[e(483)],_0x10d5bb=x[e(552)],_0x4beebf=x.clientY)})),document[_0xd87377(542)](_0xd87377(568),(x=>{const e=_0xd87377;if(!_0x26f33f||x[e(483)]!==_0x259e60)return;const _=x[e(552)]-_0x10d5bb,t=x[e(566)]-_0x4beebf;_0x17fe6e[e(403)].y-=.003*_,_0x17fe6e.rotation.z=0,_0x17fe6e.rotation.x-=.0025*t,_0x17fe6e[e(403)].x=_0x4c49b4[e(510)][e(515)](_0x17fe6e[e(403)].x,-1.2,1.2),_0x10d5bb=x.clientX,_0x4beebf=x[e(566)]})),document[_0xd87377(542)](_0xd87377(463),(x=>{x[_0xd87377(483)]===_0x259e60&&(_0x26f33f=!1,_0x259e60=null)})),document[_0xd87377(542)](_0xd87377(433),(x=>{x[_0xd87377(483)]===_0x259e60&&(_0x26f33f=!1,_0x259e60=null)})),_0x1ddbfd.addEventListener(_0xd87377(537),(x=>{const e=_0xd87377;if(x[e(513)](),null!==_0x37260e)return;_0x52d479=!0,_0x37260e=x[e(483)];const _=_0x1ddbfd[e(539)]();_0xab8477=_[e(508)]+_[e(389)]/2,_0x4ee2d=_[e(456)]+_[e(525)]/2,!_0x3778d0[e(412)]&&(_0x42db59?_0x3778d0[e(528)]():_0x3e4832=!0)})),document.addEventListener(_0xd87377(568),(x=>{const e=_0xd87377;if(!_0x52d479||x[e(483)]!==_0x37260e)return;const _=x[e(552)]-_0xab8477,t=x[e(566)]-_0x4ee2d,d=Math[e(437)](_,t),n=Math.min(d,30),o=Math[e(503)](t,_),a=Math.cos(o)*n,c=Math[e(549)](o)*n;_0x40d231[e(557)].left=25+a+"px",_0x40d231[e(557)][e(456)]=25+c+"px",_0x484f18=t<-12,_0x23825b=t>12,_0x5ee837=_>12,_0x5ad450=_<-12})),document[_0xd87377(542)](_0xd87377(463),(x=>{const e=_0xd87377;x[e(483)]===_0x37260e&&(_0x52d479=!1,_0x37260e=null,_0x40d231[e(557)][e(508)]=e(471),_0x40d231.style[e(456)]=e(471),_0x484f18=_0x23825b=_0x5ad450=_0x5ee837=!1)})),document[_0xd87377(542)](_0xd87377(433),(x=>{const e=_0xd87377;x.pointerId===_0x37260e&&(_0x52d479=!1,_0x37260e=null,_0x40d231[e(557)][e(508)]=e(471),_0x40d231.style.top=e(471),_0x484f18=_0x23825b=_0x5ad450=_0x5ee837=!1)}))}const _0x4137b6=_0x52c927?3.5:10,_0x5ce8ba=new _0x4c49b4.Clock,_0x262d82=.5,_0x29eac6=new(_0x4c49b4[_0xd87377(405)]),_0x3117a1=new(_0x4c49b4[_0xd87377(405)]),_0x1bf74e=5,_0x268abb=new(_0x4c49b4[_0xd87377(396)]),_0x337de5=document[_0xd87377(454)](_0xd87377(532));function _0x25265f(){const x=_0xd87377;if(!_0x337de5)return;_0x268abb[x(504)]({x:0,y:0},_0x17fe6e);const e=_0x268abb.intersectObjects(_0x231ae3,!0);if(!e.length)return void(_0x337de5[x(557)].display="none");let _=e[0][x(492)],t=null;for(;_;){if(_0x231ae3[x(423)](_)){t=_;break}_=_[x(511)]}if(!t)return void(_0x337de5[x(557)][x(482)]="none");if(_0x17fe6e[x(448)][x(407)](t[x(448)])>_0x1bf74e)return void(_0x337de5[x(557)][x(482)]="none");const d=t.userData.captionText||"";d.trim()?(_0x337de5[x(366)]=d,_0x337de5[x(557)][x(482)]="block"):_0x337de5[x(557)][x(482)]=x(434)}function _0x49520e(){const x=_0xd87377;requestAnimationFrame(_0x49520e);const e=_0x5ce8ba[x(466)]();if(!0===_0x2d2adf[x(507)]||_0x52c927){let _=0,t=0;if(_0x484f18&&(_+=_0x4137b6*e),_0x23825b&&(_-=_0x4137b6*e),_0x5ad450&&(t-=_0x4137b6*e),_0x5ee837&&(t+=_0x4137b6*e),0!==_||0!==t){const e=_0x17fe6e[x(448)].x,d=_0x17fe6e[x(448)].z;_0x52c927?(_0x17fe6e[x(443)](!0),_0x17fe6e[x(390)](_0x29eac6),_0x29eac6.y=0,_0x29eac6.normalize(),_0x3117a1[x(441)](-_0x29eac6.z,0,_0x29eac6.x),_0x17fe6e[x(448)][x(519)](_0x29eac6,_),_0x17fe6e[x(448)][x(519)](_0x3117a1,t)):(_0x2d2adf.moveForward(_),_0x2d2adf[x(512)](t)),_0x17fe6e[x(448)].x=_0x4c49b4[x(510)][x(515)](_0x17fe6e[x(448)].x,-_0x4b5125/2+.5,_0x4b5125/2-.5),_0x17fe6e[x(448)].z=_0x4c49b4[x(510)][x(515)](_0x17fe6e[x(448)].z,-_0x464110/2+.5,_0x464110/2-.5);for(const _ of _0x306f1f)if(_0x17fe6e[x(448)].x>_[x(470)]&&_0x17fe6e[x(448)].x<_[x(455)]&&_0x17fe6e.position.z>_[x(419)]&&_0x17fe6e[x(448)].z<_.maxZ){_0x17fe6e[x(448)].x=e,_0x17fe6e[x(448)].z=d;break}}}_0x25265f(),_0x2552e7.render(_0x133bad,_0x17fe6e)}window[_0xd87377(542)](_0xd87377(473),(()=>{const x=_0xd87377;_0x17fe6e[x(500)]=window.innerWidth/window.innerHeight,_0x17fe6e[x(457)](),_0x2552e7.setSize(window[x(397)],window[x(475)])})),_0x49520e();